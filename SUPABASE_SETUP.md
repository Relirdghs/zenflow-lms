# –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Supabase –¥–ª—è ZenFlow

–≠—Ç–æ –ø–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Supabase –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ ZenFlow —Å –Ω—É–ª—è.

---

## –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –≤ Supabase

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä** –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [https://supabase.com](https://supabase.com)

2. **–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "Start your project"** (–∏–ª–∏ "Sign in" –µ—Å–ª–∏ —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç)

3. **–í–æ–π–¥–∏—Ç–µ** —á–µ—Ä–µ–∑ GitHub (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç –ø–æ email

4. **–ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞** –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"New Project"** (–∑–µ–ª–µ–Ω–∞—è –∫–Ω–æ–ø–∫–∞ —Å–ø—Ä–∞–≤–∞ –≤–≤–µ—Ä—Ö—É)

5. **–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞:**
   - **Name:** `ZenFlow` (–∏–ª–∏ –ª—é–±–æ–µ –¥—Ä—É–≥–æ–µ –∏–º—è)
   - **Database Password:** –ü—Ä–∏–¥—É–º–∞–π—Ç–µ –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å (–∑–∞–ø–∏—à–∏—Ç–µ –µ–≥–æ!)
   - **Region:** –í—ã–±–µ—Ä–∏—Ç–µ –±–ª–∏–∂–∞–π—à–∏–π —Ä–µ–≥–∏–æ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, `West US (N. California)` –¥–ª—è –°–®–ê –∏–ª–∏ `West EU (Ireland)` –¥–ª—è –ï–≤—Ä–æ–ø—ã)
   - **Pricing Plan:** –í—ã–±–µ—Ä–∏—Ç–µ `Free` (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω)

6. **–ù–∞–∂–º–∏—Ç–µ "Create new project"**

7. **–ü–æ–¥–æ–∂–¥–∏—Ç–µ 2-3 –º–∏–Ω—É—Ç—ã**, –ø–æ–∫–∞ Supabase —Å–æ–∑–¥–∞–µ—Ç –≤–∞—à –ø—Ä–æ–µ–∫—Ç (–≤—ã —É–≤–∏–¥–∏—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä)

---

## –®–∞–≥ 2: –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–ª—é—á–µ–π API

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞:

1. **–í –ª–µ–≤–æ–º –º–µ–Ω—é** –Ω–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **"Settings"** (—à–µ—Å—Ç–µ—Ä–µ–Ω–∫–∞) –∏ –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–µ–≥–æ

2. **–í –ø–æ–¥–º–µ–Ω—é Settings** –≤—ã–±–µ—Ä–∏—Ç–µ **"API"**

3. **–ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ API** –≤—ã —É–≤–∏–¥–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—Ü–∏–π. –ù–∞–π–¥–∏—Ç–µ —Å–µ–∫—Ü–∏—é **"Project API keys"**

4. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è:**

   - **`Project URL`** ‚Äî —ç—Ç–æ –≤–∞—à `NEXT_PUBLIC_SUPABASE_URL`
     - –ü—Ä–∏–º–µ—Ä: `https://abcdefghijklmnop.supabase.co`
     - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å URL –ø–æ–ª–Ω–æ—Å—Ç—å—é

   - **`anon` `public`** –∫–ª—é—á ‚Äî —ç—Ç–æ –≤–∞—à `NEXT_PUBLIC_SUPABASE_ANON_KEY`
     - –≠—Ç–æ –¥–ª–∏–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞, –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `eyJ...`
     - –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Å–ø—Ä–∞–≤–∞ –æ—Ç –∫–ª—é—á–∞

   - **`service_role` `secret`** –∫–ª—é—á ‚Äî —ç—Ç–æ –≤–∞—à `SUPABASE_SERVICE_ROLE_KEY` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è seed —Å–∫—Ä–∏–ø—Ç–∞)
     - ‚ö†Ô∏è **–í–ê–ñ–ù–û:** –≠—Ç–æ—Ç –∫–ª—é—á –∏–º–µ–µ—Ç –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, –Ω–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ –µ–≥–æ –≤ Git!
     - –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Å–ø—Ä–∞–≤–∞ –æ—Ç –∫–ª—é—á–∞

---

## –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

1. **–í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞** (–ø–∞–ø–∫–∞ `my-app`) –Ω–∞–π–¥–∏—Ç–µ —Ñ–∞–π–ª `.env.example`

2. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª** `.env.example` –∏ –ø–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ –µ–≥–æ –≤ `.env.local`
   - –í Windows: —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª –∏ –ø–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ
   - –í VS Code: –ø—Ä–∞–≤—ã–π –∫–ª–∏–∫ ‚Üí Copy ‚Üí Paste ‚Üí –ø–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ

3. **–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª** `.env.local` –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ

4. **–ó–∞–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è** –Ω–∞ –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ –∏–∑ Supabase:

```env
# Supabase (required for auth, DB, storage)
NEXT_PUBLIC_SUPABASE_URL=https://–≤–∞—à-–ø—Ä–æ–µ–∫—Ç.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=–≤–∞—à-anon-–∫–ª—é—á-–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è-—Å-eyJ

# Optional: –¥–ª—è seed —Å–∫—Ä–∏–ø—Ç–∞ (–µ—Å–ª–∏ RLS –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤—Å—Ç–∞–≤–∫—É)
SUPABASE_SERVICE_ROLE_KEY=–≤–∞—à-service-role-–∫–ª—é—á

# Optional: –¥–ª—è —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞ –ø–æ—Å–ª–µ –≤—ã—Ö–æ–¥–∞
NEXT_PUBLIC_SITE_URL=http://localhost:3000
```



5. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª** (Ctrl+S)

---

## –®–∞–≥ 4: –ó–∞–ø—É—Å–∫ SQL –º–∏–≥—Ä–∞—Ü–∏–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü)

1. **–í Supabase Dashboard** (–≤–∞—à –ø—Ä–æ–µ–∫—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç–∫—Ä—ã—Ç)

2. **–í –ª–µ–≤–æ–º –º–µ–Ω—é** –Ω–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **"SQL Editor"** –∏ –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–µ–≥–æ

3. **–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "New query"** (–∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –∫–ª–∏–∫–Ω–∏—Ç–µ –≤ –ø–æ–ª–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞)

4. **–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª** `supabase/migrations/00001_zenflow_schema.sql` –∏–∑ –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

5. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –í–ï–°–¨ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ** —Ñ–∞–π–ª–∞ (Ctrl+A, Ctrl+C)

6. **–í—Å—Ç–∞–≤—å—Ç–µ SQL –∫–æ–¥** –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä Supabase SQL Editor (Ctrl+V)

7. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ**, —á—Ç–æ –≤–µ—Å—å –∫–æ–¥ –≤—Å—Ç–∞–≤–ª–µ–Ω (–ø—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –≤–Ω–∏–∑, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è)

8. **–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "Run"** (–∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ Ctrl+Enter)

9. **–ü–æ–¥–æ–∂–¥–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥** ‚Äî –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ:
   - ‚úÖ "Success. No rows returned" –∏–ª–∏
   - ‚úÖ "Success. Rows returned: X"

10. **–ï—Å–ª–∏ –ø–æ—è–≤–∏–ª–∞—Å—å –æ—à–∏–±–∫–∞:**
    - –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
    - –ß–∞—â–µ –≤—Å–µ–≥–æ —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Ç–∞–±–ª–∏—Ü—ã —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç ‚Äî —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –µ—Å–ª–∏ –≤—ã –∑–∞–ø—É—Å–∫–∞–ª–∏ –º–∏–≥—Ä–∞—Ü–∏—é —Ä–∞–Ω—å—à–µ
    - –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –¥—Ä—É–≥–∞—è, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª–∏ –≤–µ—Å—å SQL –∫–æ–¥

---

## –®–∞–≥ 4.1: –ó–∞–ø—É—Å–∫ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –º–∏–≥—Ä–∞—Ü–∏–π (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

–ü–æ—Å–ª–µ –æ—Å–Ω–æ–≤–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å **–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏**:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ SQL Editor**
2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø–æ –æ—á–µ—Ä–µ–¥–∏:**
   - `supabase/migrations/00002_add_new_block_types.sql` ‚Äî –Ω–æ–≤—ã–µ –±–ª–æ–∫–∏ (H1, H2, Callout, Link)
   - `supabase/migrations/00003_goals_to_groups.sql` ‚Äî –≥—Ä—É–ø–ø–æ–≤—ã–µ —Ü–µ–ª–∏ (—Ü–µ–ª–∏ –¥–ª—è –≥—Ä—É–ø–ø)
   - `supabase/migrations/00004_allow_client_enrollments.sql` ‚Äî –∑–∞–ø–∏—Å—å –∫–ª–∏–µ–Ω—Ç–æ–≤ –Ω–∞ –∫—É—Ä—Å—ã –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å
   - `supabase/migrations/00005_group_members_and_avatars.sql` ‚Äî —É—á–∞—Å—Ç–Ω–∏–∫–∏ –≥—Ä—É–ø–ø –∏ –∞–≤–∞—Ç–∞—Ä—ã
   - `supabase/migrations/00006_course_visibility_and_group_access.sql` ‚Äî –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫—É—Ä—Å—ã –∏ –¥–æ—Å—Ç—É–ø –≥—Ä—É–ø–ø–∞–º
   - `supabase/migrations/00007_fix_profiles_policy_recursion.sql` ‚Äî —Ñ–∏–∫—Å —Ä–µ–∫—É—Ä—Å–∏–∏ –≤ RLS –Ω–∞ profiles

‚ö†Ô∏è –ë–µ–∑ –º–∏–≥—Ä–∞—Ü–∏–∏ `00004_allow_client_enrollments.sql` —É –∫–ª–∏–µ–Ω—Ç–æ–≤ –±—É–¥–µ—Ç –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø–∏—Å–∏ –Ω–∞ –∫—É—Ä—Å.

---

## –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü

1. **–í –ª–µ–≤–æ–º –º–µ–Ω—é** –Ω–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **"Table Editor"** –∏ –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–µ–≥–æ

2. **–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã:**
   - ‚úÖ `profiles`
   - ‚úÖ `courses`
   - ‚úÖ `lessons`
   - ‚úÖ `lesson_blocks`
   - ‚úÖ `groups`
   - ‚úÖ `group_members`
   - ‚úÖ `enrollments`
   - ‚úÖ `messages`
   - ‚úÖ `goals`
   - ‚úÖ `course_groups`

3. **–ï—Å–ª–∏ —Ç–∞–±–ª–∏—Ü –Ω–µ—Ç** ‚Äî –≤–µ—Ä–Ω–∏—Ç–µ—Å—å –∫ –®–∞–≥—É 4 –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ SQL –º–∏–≥—Ä–∞—Ü–∏—é —Å–Ω–æ–≤–∞

---

## –®–∞–≥ 5.5: –°–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª–µ–π

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è SQL –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ç—Ä–∏–≥–≥–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç –∑–∞–ø–∏—Å—å –≤ —Ç–∞–±–ª–∏—Ü–µ `profiles` –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –¢—Ä–∏–≥–≥–µ—Ä –Ω–∞ —Ç–∞–±–ª–∏—Ü–µ `auth.users` –Ω–µ–ª—å–∑—è —Å–æ–∑–¥–∞—Ç—å —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Dashboard (—Ç–∞–º –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ —Ç–∞–±–ª–∏—Ü—ã –∏–∑ —Å—Ö–µ–º—ã `public`). –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–∏–Ω –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –Ω–∏–∂–µ.

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ SQL Editor (–ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–∞—á–∞–ª–∞ —ç—Ç–æ—Ç)

1. **–û—Ç–∫—Ä–æ–π—Ç–µ SQL Editor** –≤ Supabase

2. **–í—Å—Ç–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π SQL –∫–æ–¥:**

```sql
CREATE TRIGGER on_auth_user_created
  AFTER INSERT ON auth.users
  FOR EACH ROW EXECUTE FUNCTION public.handle_new_user();
```

3. **–ù–∞–∂–º–∏—Ç–µ "Run"**

4. **–ï—Å–ª–∏ –ø–æ—è–≤–∏–ª–∞—Å—å –æ—à–∏–±–∫–∞ "must be owner of relation users":**
   - –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —É –≤–∞—à–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä–∞ –Ω–∞ `auth.users`
   - –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ ‚Äî –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ –í–∞—Ä–∏–∞–Ω—Ç—É 2 –∏–ª–∏ 3

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Supabase CLI (–¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)

–ï—Å–ª–∏ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Supabase CLI:

```bash
supabase db reset
```

–ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª –º–∏–≥—Ä–∞—Ü–∏–∏ —Å —Ç—Ä–∏–≥–≥–µ—Ä–æ–º –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —á–µ—Ä–µ–∑ CLI.

### –í–∞—Ä–∏–∞–Ω—Ç 3: –°–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª–∏ –≤—Ä—É—á–Ω—É—é (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è, –µ—Å–ª–∏ —Ç—Ä–∏–≥–≥–µ—Ä –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)

–ï—Å–ª–∏ —Ç—Ä–∏–≥–≥–µ—Ä –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è, –Ω–µ –ø–µ—Ä–µ–∂–∏–≤–∞–π—Ç–µ! –ü—Ä–æ—Ñ–∏–ª–∏ –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é –∏–ª–∏ —á–µ—Ä–µ–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –°–º. —Ä–∞–∑–¥–µ–ª "–ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ —Ç—Ä–∏–≥–≥–µ—Ä –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è?" –Ω–∏–∂–µ.

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã:

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ (—Å–º. –®–∞–≥ 9)
2. –û—Ç–∫—Ä–æ–π—Ç–µ **Table Editor** ‚Üí —Ç–∞–±–ª–∏—Ü–∞ **`profiles`**
3. –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å —Å –≤–∞—à–∏–º email –∏ —Ä–æ–ª—å—é `client`

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ü—Ä–æ—Ñ–∏–ª—å –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º, –¥–∞–∂–µ –µ—Å–ª–∏ —Ç—Ä–∏–≥–≥–µ—Ä –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç. –¢—Ä–∏–≥–≥–µ—Ä ‚Äî —ç—Ç–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

### –ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ —Ç—Ä–∏–≥–≥–µ—Ä –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è? (–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ–¥—Ö–æ–¥)

–ï—Å–ª–∏ —Ç—Ä–∏–≥–≥–µ—Ä –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è (—á—Ç–æ —á–∞—Å—Ç–æ —Å–ª—É—á–∞–µ—Ç—Å—è –∏–∑-–∑–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞), –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–∏–Ω –∏–∑ —Å–ø–æ—Å–æ–±–æ–≤ –Ω–∏–∂–µ:

#### –°–ø–æ—Å–æ–± 1: –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –≤—Ä—É—á–Ω—É—é –ø–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è** —á–µ—Ä–µ–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (Sign up)
2. **–í Supabase Dashboard:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ **Authentication** ‚Üí **Users** (–∏–ª–∏ **Table Editor** ‚Üí `auth.users`)
   - –ù–∞–π–¥–∏—Ç–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ email
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ–≥–æ `id` (UUID)
3. **–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ **Table Editor** ‚Üí —Ç–∞–±–ª–∏—Ü–∞ **`profiles`**
   - –ù–∞–∂–º–∏—Ç–µ **"Insert row"** –∏–ª–∏ **"New row"**
   - –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª—è:
     - `id` ‚Äî –≤—Å—Ç–∞–≤—å—Ç–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–π UUID –∏–∑ —à–∞–≥–∞ 2
     - `email` ‚Äî email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
     - `full_name` ‚Äî –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∏–ª–∏ –æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º)
     - `role` ‚Äî `client` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
   - –ù–∞–∂–º–∏—Ç–µ **"Save"**

#### –°–ø–æ—Å–æ–± 2: –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª–∏ –¥–ª—è –≤—Å–µ—Ö —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —á–µ—Ä–µ–∑ SQL

–ï—Å–ª–∏ —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –±–µ–∑ –ø—Ä–æ—Ñ–∏–ª–µ–π:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ SQL Editor** –≤ Supabase

2. **–í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π SQL –∑–∞–ø—Ä–æ—Å:**

```sql
INSERT INTO public.profiles (id, email, full_name, role)
SELECT 
  id, 
  email, 
  COALESCE(raw_user_meta_data->>'full_name', raw_user_meta_data->>'name', split_part(email, '@', 1)), 
  'client'
FROM auth.users
WHERE id NOT IN (SELECT id FROM public.profiles);
```

3. **–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç –ø—Ä–æ—Ñ–∏–ª–∏** –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ `auth.users`, —É –∫–æ—Ç–æ—Ä—ã—Ö –µ—â–µ –Ω–µ—Ç –ø—Ä–æ—Ñ–∏–ª—è –≤ `profiles`

#### –°–ø–æ—Å–æ–± 3: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (—É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ!)

‚úÖ **–•–æ—Ä–æ—à–∏–µ –Ω–æ–≤–æ—Å—Ç–∏:** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ZenFlow **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å** –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –¥–∞–∂–µ –µ—Å–ª–∏ —Ç—Ä–∏–≥–≥–µ—Ä –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!

- –ü—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É Sign up –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–∑–¥–∞—Å—Ç –ø—Ä–æ—Ñ–∏–ª—å –≤ —Ç–∞–±–ª–∏—Ü–µ `profiles`
- –≠—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–µ–∑–µ—Ä–≤–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç, –µ—Å–ª–∏ —Ç—Ä–∏–≥–≥–µ—Ä –Ω–∞ `auth.users` –Ω–µ —Å–æ–∑–¥–∞–Ω
- –ü—Ä–æ—Ñ–∏–ª—å —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å —Ä–æ–ª—å—é `client` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –¢—Ä–∏–≥–≥–µ—Ä ‚Äî —ç—Ç–æ —É–¥–æ–±–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É–∂–µ –∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –ª–æ–≥–∏–∫—É —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª–µ–π. –í—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä–∞, –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ ‚Äî –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–æ—Ä–º–∞–ª—å–Ω–æ!

---

## –®–∞–≥ 5.6: –ë—ã—Å—Ç—Ä—ã–π –±—É—Ç—Å—Ç—Ä–∞–ø —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ –≤—ã –Ω–µ –≤–∏–¥–∏—Ç–µ –∞–¥–º–∏–Ω—Å–∫–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª, –º–æ–∂–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–∑–Ω–∞—á–∏—Ç—å —Å—É–ø–µ—Ä‚Äë–∞–¥–º–∏–Ω–∞ –ø–æ email.

1. –û—Ç–∫—Ä–æ–π—Ç–µ `.env.local`
2. –î–æ–±–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫—É:
   ```
   SUPER_ADMIN_EMAILS=rest.kali@mail.ru
   ```
   –ú–æ–∂–Ω–æ –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ email —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é.
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ dev‚Äë—Å–µ—Ä–≤–µ—Ä.

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç –ø—Ä–æ—Ñ–∏–ª—å –∏ –Ω–∞–∑–Ω–∞—á–∏—Ç —Ä–æ–ª—å `super_admin` –ø—Ä–∏ –≤—Ö–æ–¥–µ.

## –®–∞–≥ 6: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Storage (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –º–µ–¥–∏–∞)

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∑–∞–≥—Ä—É–∂–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫—É—Ä—Å–æ–≤ –∏ –≤–∏–¥–µ–æ –≤ Supabase Storage:

1. **–í –ª–µ–≤–æ–º –º–µ–Ω—é** –Ω–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **"Storage"** –∏ –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–µ–≥–æ

2. **–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "New bucket"**

3. **–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:**
   - **Name:** `course-media`
   - **Public bucket:** –í–∫–ª—é—á–∏—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å (—Å–¥–µ–ª–∞—Ç—å –ø—É–±–ª–∏—á–Ω—ã–º)
   - **File size limit:** –û—Å—Ç–∞–≤—å—Ç–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω—É–∂–Ω—ã–π –ª–∏–º–∏—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, 50MB)
   - **Allowed MIME types:** –û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º (—Ä–∞–∑—Ä–µ—à–∏—Ç—å –≤—Å–µ —Ç–∏–ø—ã) –∏–ª–∏ —É–∫–∞–∂–∏—Ç–µ `image/*,video/*`

4. **–ù–∞–∂–º–∏—Ç–µ "Create bucket"**

5. **–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞–≥—Ä—É–∂–∞—Ç—å —Ñ–∞–π–ª—ã —á–µ—Ä–µ–∑ Supabase Storage API

---

## –®–∞–≥ 7: –í–∫–ª—é—á–µ–Ω–∏–µ Realtime –¥–ª—è —á–∞—Ç–∞

–î–ª—è —Ä–∞–±–æ—Ç—ã —á–∞—Ç–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –Ω—É–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å Realtime –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã `messages`:

1. **–í Supabase Dashboard** –æ—Ç–∫—Ä–æ–π—Ç–µ **Table Editor**

2. **–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—É** `messages`

3. **–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "Replication"** (–≤–≤–µ—Ä—Ö—É —Ç–∞–±–ª–∏—Ü—ã)

4. **–í–∫–ª—é—á–∏—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å "Enable Realtime"** –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã `messages`

5. **–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä—å —á–∞—Ç –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

---

## –®–∞–≥ 8: –ü—Ä–æ–≤–µ—Ä–∫–∞ Row Level Security (RLS)

RLS —É–∂–µ –≤–∫–ª—é—á–µ–Ω —á–µ—Ä–µ–∑ SQL –º–∏–≥—Ä–∞—Ü–∏—é, –Ω–æ –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

1. **–í –ª–µ–≤–æ–º –º–µ–Ω—é** –æ—Ç–∫—Ä–æ–π—Ç–µ **"Table Editor"**

2. **–í—ã–±–µ—Ä–∏—Ç–µ –ª—é–±—É—é —Ç–∞–±–ª–∏—Ü—É** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `profiles`)

3. **–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "Policies"** (–≤–≤–µ—Ä—Ö—É —Ç–∞–±–ª–∏—Ü—ã)

4. **–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –ø–æ–ª–∏—Ç–∏–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏** –¥–ª—è –∫–∞–∂–¥–æ–π —Ç–∞–±–ª–∏—Ü—ã

5. **–ï—Å–ª–∏ –ø–æ–ª–∏—Ç–∏–∫ –Ω–µ—Ç** ‚Äî –≤–µ—Ä–Ω–∏—Ç–µ—Å—å –∫ –®–∞–≥—É 4 –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ SQL –º–∏–≥—Ä–∞—Ü–∏—é —Å–Ω–æ–≤–∞

---

## –®–∞–≥ 9: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

1. **–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª** –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞ (`my-app`)

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã):
   ```bash
   npm install
   ```

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:**
   ```bash
   npm run dev
   ```

4. **–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä** –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [http://localhost:3000](http://localhost:3000)

5. **–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è:**
   - –ù–∞–∂–º–∏—Ç–µ "Sign up"
   - –í–≤–µ–¥–∏—Ç–µ email –∏ –ø–∞—Ä–æ–ª—å
   - –ù–∞–∂–º–∏—Ç–µ "Sign up"

6. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ Supabase:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ **Table Editor** ‚Üí —Ç–∞–±–ª–∏—Ü–∞ **`profiles`**
   - –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å —Å –≤–∞—à–∏–º email –∏ —Ä–æ–ª—å—é `client`

7. **–ï—Å–ª–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `.env.local` —Ñ–∞–π–ª –∑–∞–ø–æ–ª–Ω–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∫–ª—é—á–∏ –∏–∑ Supabase
   - –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ dev —Å–µ—Ä–≤–µ—Ä (`npm run dev`)

8. **–ï—Å–ª–∏ –ø–æ—è–≤–∏–ª–∞—Å—å –æ—à–∏–±–∫–∞ "Email not confirmed":**
   - –°–º. –®–∞–≥ 9.5 –Ω–∏–∂–µ –¥–ª—è —Ä–µ—à–µ–Ω–∏—è —ç—Ç–æ–π –ø—Ä–æ–±–ª–µ–º—ã

---

## –®–∞–≥ 9.5: –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã "Email not confirmed"

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é Supabase —Ç—Ä–µ–±—É–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ email –ø–µ—Ä–µ–¥ –≤—Ö–æ–¥–æ–º. –ï—Å—Ç—å –¥–≤–∞ —Å–ø–æ—Å–æ–±–∞ —Ä–µ—à–∏—Ç—å —ç—Ç–æ:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –û—Ç–∫–ª—é—á–∏—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ email (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

1. **–í Supabase Dashboard** –≤ –ª–µ–≤–æ–º –º–µ–Ω—é –Ω–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **"Authentication"** –∏ –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–µ–≥–æ

2. **–í –ø–æ–¥–º–µ–Ω—é Authentication** –≤—ã–±–µ—Ä–∏—Ç–µ **"Providers"**

3. **–ù–∞–π–¥–∏—Ç–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä "Email"** –∏ –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–µ–≥–æ

4. **–ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –≤–Ω–∏–∑** –¥–æ —Å–µ–∫—Ü–∏–∏ **"Email Auth"**

5. **–ù–∞–π–¥–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫—É "Confirm email"** –∏ **–æ—Ç–∫–ª—é—á–∏—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å** (—Å–¥–µ–ª–∞–π—Ç–µ –µ–≥–æ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–º)

6. **–ù–∞–∂–º–∏—Ç–µ "Save"** –≤–Ω–∏–∑—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã

7. **–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –≤—Ö–æ–¥–∏—Ç—å –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è email

‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –≠—Ç–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. –í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –ª—É—á—à–µ –æ—Å—Ç–∞–≤–∏—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ email –≤–∫–ª—é—á–µ–Ω–Ω—ã–º.

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å email –≤—Ä—É—á–Ω—É—é (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)

1. **–í Supabase Dashboard** –æ—Ç–∫—Ä–æ–π—Ç–µ **Authentication** ‚Üí **Users**

2. **–ù–∞–π–¥–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** –ø–æ email

3. **–ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–æ–∫—É** —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –¥–µ—Ç–∞–ª–∏

4. **–ù–∞–π–¥–∏—Ç–µ –ø–æ–ª–µ "Email Confirmed"** –∏–ª–∏ –∫–Ω–æ–ø–∫—É **"Confirm email"**

5. **–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å** –∏–ª–∏ –∫–Ω–æ–ø–∫—É, —á—Ç–æ–±—ã –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å email

6. **–ì–æ—Ç–æ–≤–æ!** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ç–µ–ø–µ—Ä—å –º–æ–∂–µ—Ç –≤–æ–π—Ç–∏

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤—Ä—É—á–Ω—É—é (–µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω –î–û –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è)

–ï—Å–ª–∏ –≤—ã –æ—Ç–∫–ª—é—á–∏–ª–∏ "Confirm email", –Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—ã–ª —Å–æ–∑–¥–∞–Ω –†–ê–ù–¨–®–ï (–¥–æ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è), –µ–≥–æ email –≤—Å–µ –µ—â–µ –±—É–¥–µ—Ç –Ω–µ–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã–º. –ù—É–∂–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –µ–≥–æ –≤—Ä—É—á–Ω—É—é:

1. **–í Supabase Dashboard** –æ—Ç–∫—Ä–æ–π—Ç–µ **Authentication** ‚Üí **Users**

2. **–ù–∞–π–¥–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** –ø–æ email (–≤ —Å–ø–∏—Å–∫–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)

3. **–ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–æ–∫—É** —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –¥–µ—Ç–∞–ª–∏

4. **–í —Ä–∞–∑–¥–µ–ª–µ "User Details"** –Ω–∞–π–¥–∏—Ç–µ –ø–æ–ª–µ **"Email Confirmed"**

5. **–ï—Å–ª–∏ —Ç–∞–º —Å—Ç–æ–∏—Ç "false" –∏–ª–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –≤—ã–∫–ª—é—á–µ–Ω:**
   - –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å, —á—Ç–æ–±—ã –≤–∫–ª—é—á–∏—Ç—å –µ–≥–æ
   - –ò–ª–∏ –Ω–∞–π–¥–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"Confirm email"** –∏ –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–µ–µ

6. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è** (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)

7. **–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤–æ–π—Ç–∏ —Å–Ω–æ–≤–∞** ‚Äî —Ç–µ–ø–µ—Ä—å –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å!

### –í–∞—Ä–∏–∞–Ω—Ç 4: –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ï—Å–ª–∏ —É –≤–∞—Å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –≤—Å–µ—Ö —Å—Ä–∞–∑—É:

1. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `.env.local` –µ—Å—Ç—å `SUPABASE_SERVICE_ROLE_KEY`**

2. **–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª** –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç:**
   ```bash
   npm run confirm-users
   ```

4. **–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç** –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω–æ–≥–æ email

5. **–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä—å –≤—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –≤–æ–π—Ç–∏

### –í–∞—Ä–∏–∞–Ω—Ç 5: –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —á–µ—Ä–µ–∑ SQL (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)

–ï—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ SQL:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ SQL Editor** –≤ Supabase

2. **–í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π SQL –∑–∞–ø—Ä–æ—Å:**

```sql
UPDATE auth.users
SET email_confirmed_at = NOW()
WHERE email_confirmed_at IS NULL;
```

3. **–ù–∞–∂–º–∏—Ç–µ "Run"**

4. **–ì–æ—Ç–æ–≤–æ!** –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Ç–µ–ø–µ—Ä—å –∏–º–µ—é—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã–π email

‚ö†Ô∏è **–í–Ω–∏–º–∞–Ω–∏–µ:** –≠—Ç–∏ –º–µ—Ç–æ–¥—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—Ç –í–°–ï–• –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏!

---

## –®–∞–≥ 10: –ó–∞–ø—É—Å–∫ seed —Å–∫—Ä–∏–ø—Ç–∞ (—Å–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö)

–ü–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –≤—ã –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª–∏—Å—å (—Å–æ–∑–¥–∞–Ω –ø–µ—Ä–≤—ã–π –ø—Ä–æ—Ñ–∏–ª—å):

1. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª `.env.local` –∑–∞–ø–æ–ª–Ω–µ–Ω:**
   - –î–æ–ª–∂–Ω—ã –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã `NEXT_PUBLIC_SUPABASE_URL` –∏ `NEXT_PUBLIC_SUPABASE_ANON_KEY`
   - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: `SUPABASE_SERVICE_ROLE_KEY` (–µ—Å–ª–∏ RLS –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤—Å—Ç–∞–≤–∫—É)

2. **–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª** –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞ (`my-app`)

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ seed —Å–∫—Ä–∏–ø—Ç:**
   ```bash
   npm run seed
   ```

4. **–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∑–∏—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ** –∏–∑ `.env.local`

5. **–ï—Å–ª–∏ –ø–æ—è–≤–∏–ª–∞—Å—å –æ—à–∏–±–∫–∞** –æ —Ç–æ–º, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã:
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª `.env.local` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –ø–∞–ø–∫–µ `my-app`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ (–±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤ –≤–æ–∫—Ä—É–≥ `=`)
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ø–∞–ø–∫–µ (`my-app`)

6. **–ï—Å–ª–∏ –ø–æ—è–≤–∏–ª–∞—Å—å –æ—à–∏–±–∫–∞** –æ —Ç–æ–º, —á—Ç–æ RLS –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤—Å—Ç–∞–≤–∫—É:
   - –û—Ç–∫—Ä–æ–π—Ç–µ `.env.local`
   - –î–æ–±–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫—É `SUPABASE_SERVICE_ROLE_KEY=–≤–∞—à-service-role-–∫–ª—é—á`
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª
   - –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ seed: `npm run seed`

7. **–ï—Å–ª–∏ –ø–æ—è–≤–∏–ª–∞—Å—å –æ—à–∏–±–∫–∞** "No profile found":
   - –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: `npm run dev`
   - –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É Sign up
   - –ó–∞–ø—É—Å—Ç–∏—Ç–µ seed —Å–Ω–æ–≤–∞: `npm run seed`

8. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –í Supabase –æ—Ç–∫—Ä–æ–π—Ç–µ **Table Editor** ‚Üí —Ç–∞–±–ª–∏—Ü–∞ **`courses`**
   - –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å 4 –∫—É—Ä—Å–∞: "Yoga for Beginners", "Morning Energy", "Flexibility", "Anti-stress"
   - –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–∞–±–ª–∏—Ü—É **`lessons`** ‚Äî –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 16 —É—Ä–æ–∫–æ–≤ (4 –∫—É—Ä—Å–∞ √ó 4 —É—Ä–æ–∫–∞)
   - –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–∞–±–ª–∏—Ü—É **`lesson_blocks`** ‚Äî –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –±–ª–æ–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –¥–ª—è —É—Ä–æ–∫–æ–≤

---

## –®–∞–≥ 11: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–æ–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –°–¥–µ–ª–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º:

1. **–í Supabase** –æ—Ç–∫—Ä–æ–π—Ç–µ **Table Editor** ‚Üí —Ç–∞–±–ª–∏—Ü–∞ **`profiles`**

2. **–ù–∞–π–¥–∏—Ç–µ –≤–∞—à—É –∑–∞–ø–∏—Å—å** (–ø–æ email)

3. **–ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–æ–∫—É** —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å —Ä–µ–¥–∞–∫—Ç–æ—Ä

4. **–í –ø–æ–ª–µ `role`** –∏–∑–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Å `client` –Ω–∞ `admin` –∏–ª–∏ `super_admin`

5. **–ù–∞–∂–º–∏—Ç–µ "Save"** (–∏–ª–∏ Enter)

6. **–í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏** –≤—ã–π–¥–∏—Ç–µ –∏ –≤–æ–π–¥–∏—Ç–µ —Å–Ω–æ–≤–∞, —á—Ç–æ–±—ã –æ–±–Ω–æ–≤–∏–ª–∞—Å—å —Ä–æ–ª—å

### –°–¥–µ–ª–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º:

1. –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Ç–µ –∂–µ —à–∞–≥–∏, –Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `role` = `super_admin`

2. –°—É–ø–µ—Ä-–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç:
   - –ò–∑–º–µ–Ω—è—Ç—å —Ä–æ–ª–∏ –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
   - –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –≤—Å–µ —á–∞—Ç—ã (—Ä–µ–∂–∏–º "View all threads")
   - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ª—é–±—ã–µ –∫—É—Ä—Å—ã

---

## –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã (FAQ)

### ‚ùì –ì–¥–µ –Ω–∞–π—Ç–∏ Project URL –∏ API –∫–ª—é—á–∏?

**–û—Ç–≤–µ—Ç:** Settings ‚Üí API ‚Üí —Å–µ–∫—Ü–∏—è "Project API keys"

### ‚ùì –ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ SQL –º–∏–≥—Ä–∞—Ü–∏—è –≤—ã–¥–∞–µ—Ç –æ—à–∏–±–∫—É "relation already exists"?

**–û—Ç–≤–µ—Ç:** –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –µ—Å–ª–∏ –≤—ã —É–∂–µ –∑–∞–ø—É—Å–∫–∞–ª–∏ –º–∏–≥—Ä–∞—Ü–∏—é. –¢–∞–±–ª–∏—Ü—ã —É–∂–µ —Å–æ–∑–¥–∞–Ω—ã. –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –¥–∞–ª—å—à–µ.

### ‚ùì –û—à–∏–±–∫–∞ "must be owner of relation users" –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç—Ä–∏–≥–≥–µ—Ä–∞

**–û—Ç–≤–µ—Ç:** 
- –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ! –¢—Ä–∏–≥–≥–µ—Ä –Ω–∞ `auth.users` —Ç—Ä–µ–±—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–∞–≤ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–†–µ—à–µ–Ω–∏–µ:** 
  1. –¢—Ä–∏–≥–≥–µ—Ä —É–∂–µ —É–¥–∞–ª–µ–Ω –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–π SQL –º–∏–≥—Ä–∞—Ü–∏–∏ (—á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –æ—à–∏–±–∫–∏)
  2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–æ–∑–¥–∞—Ç—å —Ç—Ä–∏–≥–≥–µ—Ä —á–µ—Ä–µ–∑ SQL Editor (—Å–º. –®–∞–≥ 5.5, –í–∞—Ä–∏–∞–Ω—Ç 1)
  3. –ï—Å–ª–∏ –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è ‚Äî —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–π –≤—Ä—É—á–Ω—É—é (—Å–º. –®–∞–≥ 5.5, —Ä–∞–∑–¥–µ–ª "–ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ —Ç—Ä–∏–≥–≥–µ—Ä –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è?")
  4. –§—É–Ω–∫—Ü–∏—è `handle_new_user` —É–∂–µ —Å–æ–∑–¥–∞–Ω–∞ –≤ –º–∏–≥—Ä–∞—Ü–∏–∏ ‚Äî –æ–Ω–∞ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, –∫–æ–≥–¥–∞ —Ç—Ä–∏–≥–≥–µ—Ä –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω
  5. **–í–∞–∂–Ω–æ:** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –±–µ–∑ —Ç—Ä–∏–≥–≥–µ—Ä–∞, –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ—Ñ–∏–ª–∏ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é –ø–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### ‚ùì –ö–∞–∫ —Å–±—Ä–æ—Å–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ?

**–û—Ç–≤–µ—Ç:** 
1. –í Supabase –æ—Ç–∫—Ä–æ–π—Ç–µ SQL Editor
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ: `DROP SCHEMA public CASCADE; CREATE SCHEMA public;`
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é —Å–Ω–æ–≤–∞ (–®–∞–≥ 4)

### ‚ùì –ì–¥–µ —Ö—Ä–∞–Ω–∏—Ç—å service_role –∫–ª—é—á?

**–û—Ç–≤–µ—Ç:** –¢–æ–ª—å–∫–æ –≤ `.env.local` (–æ–Ω —É–∂–µ –≤ `.gitignore`). –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ –µ–≥–æ –≤ Git!

### ‚ùì –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ RLS —Ä–∞–±–æ—Ç–∞–µ—Ç?

**–û—Ç–≤–µ—Ç:** 
1. –í–æ–π–¥–∏—Ç–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∫–∞–∫ –æ–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (`client`)
2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç–∫—Ä—ã—Ç—å `/admin` ‚Äî –¥–æ–ª–∂–Ω–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ `/dashboard`
3. –¢–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å —Ä–æ–ª—å—é `admin` –∏–ª–∏ `super_admin` –º–æ–≥—É—Ç –∑–∞–π—Ç–∏ –≤ `/admin`

### ‚ùì –û—à–∏–±–∫–∞ "must be owner of relation users" –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç—Ä–∏–≥–≥–µ—Ä–∞

**–û—Ç–≤–µ—Ç:** 
- –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ ‚Äî —Ç—Ä–∏–≥–≥–µ—Ä –Ω–∞ `auth.users` —Ç—Ä–µ–±—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–∞–≤
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä–∞ —á–µ—Ä–µ–∑ Dashboard (Database ‚Üí Triggers) ‚Äî —Ç–∞–º –ø—Ä–∞–≤–∞ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- –ò–ª–∏ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä–∞ ‚Äî –ø—Ä–æ—Ñ–∏–ª–∏ –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é –∏–ª–∏ —á–µ—Ä–µ–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

### ‚ùì –ö–∞–∫ –≤–∫–ª—é—á–∏—Ç—å Realtime –¥–ª—è —á–∞—Ç–∞?

**–û—Ç–≤–µ—Ç:** 
- –°–º. –®–∞–≥ 7 –≤ —ç—Ç–æ–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ
- Table Editor ‚Üí —Ç–∞–±–ª–∏—Ü–∞ `messages` ‚Üí –≤–∫–ª–∞–¥–∫–∞ "Replication" ‚Üí –≤–∫–ª—é—á–∏—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å

### ‚ùì Seed —Å–∫—Ä–∏–ø—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –≤—ã–¥–∞–µ—Ç –æ—à–∏–±–∫—É –æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–û—Ç–≤–µ—Ç:** 
- ‚úÖ –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ `.env.local`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª `.env.local` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –ø–∞–ø–∫–µ `my-app` (–Ω–µ –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π –ø–∞–ø–∫–µ)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ:
  ```env
  NEXT_PUBLIC_SUPABASE_URL=https://–≤–∞—à-–ø—Ä–æ–µ–∫—Ç.supabase.co
  NEXT_PUBLIC_SUPABASE_ANON_KEY=–≤–∞—à-–∫–ª—é—á
  ```
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤ –≤–æ–∫—Ä—É–≥ –∑–Ω–∞–∫–∞ `=`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ `npm run seed` –∏–∑ –ø–∞–ø–∫–∏ `my-app`
- –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—ã–≤–æ–¥ —Å–∫—Ä–∏–ø—Ç–∞ ‚Äî –æ–Ω –ø–æ–∫–∞–∂–µ—Ç, –∫–∞–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–∞–π–¥–µ–Ω—ã, –∞ –∫–∞–∫–∏–µ –Ω–µ—Ç

### ‚ùì –û—à–∏–±–∫–∞ "Email not confirmed" –ø—Ä–∏ –≤—Ö–æ–¥–µ

**–û—Ç–≤–µ—Ç:** 
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é Supabase —Ç—Ä–µ–±—É–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ email
- **–ï—Å–ª–∏ –≤—ã –æ—Ç–∫–ª—é—á–∏–ª–∏ "Confirm email", –Ω–æ –æ—à–∏–±–∫–∞ –æ—Å—Ç–∞–ª–∞—Å—å:**
  - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—ã–ª —Å–æ–∑–¥–∞–Ω –î–û –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
  - –ù—É–∂–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤—Ä—É—á–Ω—É—é (—Å–º. –®–∞–≥ 9.5, –í–∞—Ä–∏–∞–Ω—Ç 3)
  - –ò–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ `npm run confirm-users` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–†–µ—à–µ–Ω–∏–µ 1 (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏):** –û—Ç–∫–ª—é—á–∏—Ç–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ email –≤ Authentication ‚Üí Providers ‚Üí Email ‚Üí "Confirm email" (—Å–º. –®–∞–≥ 9.5)
- **–†–µ—à–µ–Ω–∏–µ 2 (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞):** –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ email –≤—Ä—É—á–Ω—É—é –≤ Authentication ‚Üí Users ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Üí –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ email
- **–†–µ—à–µ–Ω–∏–µ 3 (–±—ã—Å—Ç—Ä–æ–µ):** –ó–∞–ø—É—Å—Ç–∏—Ç–µ `npm run confirm-users` ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–º–æ–∂–µ—Ç –≤–æ–π—Ç–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

---

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Supabase](https://supabase.com/docs)
- [Supabase Dashboard](https://app.supabase.com)
- [Next.js + Supabase Guide](https://supabase.com/docs/guides/getting-started/quickstarts/nextjs)

---

## –ì–æ—Ç–æ–≤–æ! üéâ

–¢–µ–ø–µ—Ä—å –≤–∞—à –ø—Ä–æ–µ–∫—Ç ZenFlow –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `npm run dev`
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `npm run seed` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –∫—É—Ä—Å–æ–≤
4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–µ–±–µ —Ä–æ–ª—å `admin` –∏–ª–∏ `super_admin` –≤ —Ç–∞–±–ª–∏—Ü–µ `profiles`
5. –ù–∞—á–Ω–∏—Ç–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫—É—Ä—Å—ã —á–µ—Ä–µ–∑ ZenBuilder!

---

**–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –≤ `.env.local`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ SQL –º–∏–≥—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –∏ —Ç–µ—Ä–º–∏–Ω–∞–ª –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∫–ª—é—á–∏ –∏–∑ Supabase (anon key, –Ω–µ service_role –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞)
